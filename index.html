<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Miclaire ❤️</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: #ffe6eb;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    overflow: hidden;
}

/* ---------- Countdown ---------- */

.countdown {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, 180px);
    background: rgba(255,255,255,0.85);
    padding: 16px 20px;
    border-radius: 12px;
    font-size: 24px;
    font-weight: bold;
    z-index: 30;
    backdrop-filter: blur(6px);
    text-align: center;
}

/* ---------- Slideshow ---------- */

.slideshow {
    position: fixed;
    width: 100%;
    height: 100%;
    z-index: -2;
}

.slideshow img {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 2s ease;
}

.slideshow img.active {
    opacity: 0.35;
}

/* ---------- Heart Canvas ---------- */

#heartCanvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: -1;
}

/* ---------- Envelope ---------- */

.envelope-wrapper {
    position: relative;
    cursor: pointer;
    transition: transform 0.6s ease;
    z-index: 10;
}

.envelope-wrapper.opened {
    transform: translateY(-120px);
}

.envelope {
    width: 240px;
    height: 165px;
    background: #ff8fa3;
    position: relative;
    border-radius: 10px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

.flap {
    position: absolute;
    width: 0;
    height: 0;
    border-left: 120px solid transparent;
    border-right: 120px solid transparent;
    border-top: 80px solid #ff6b81;
    top: 0;
    left: 0;
    transform-origin: top;
    transition: transform 0.7s ease;
}

.opened .flap {
    transform: rotateX(180deg);
}

/* ---------- Letter ---------- */

.letter {
    position: absolute;
    width: 300px;
    height: 420px;
    background: white;
    left: -20px;
    top: 40px;
    border-radius: 14px;
    padding: 28px;
    box-sizing: border-box;
    opacity: 0;
    transform: translateY(60px);
    transition: all 1s ease;
    overflow-y: auto;
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
}

.opened .letter {
    opacity: 1;
    transform: translateY(-260px);
}

.letter.centered {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: min(90vw, 420px);
    height: min(70vh, 520px);
    z-index: 30;
}

.letter h2 {
    margin-top: 0;
    color: #ff4d6d;
    font-size: 26px;
    text-align: center;
}

.letter p {
    font-size: 17px;
    line-height: 1.7;
    white-space: pre-line;
}

/* ---------- Close Button ---------- */

.close-btn {
    position: absolute;
    top: 12px;
    right: 14px;
    border: none;
    background: #ff8fa3;
    color: white;
    font-size: 18px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    transition: 0.3s;
}

.close-btn:hover {
    background: #ff6b81;
}

</style>
</head>

<body>

<div class="countdown" id="countdown"></div>

<canvas id="heartCanvas"></canvas>

<div class="slideshow">
    <img src="mm.jpg">
    <img src="mm1.jpg">
    <img src="mm2.jpg">
    <img src="mm3.jpg">
    <img src="mm4.jpg">
</div>

<div class="envelope-wrapper" onclick="openEnvelope()" id="envelope">
    <div class="envelope">
        <div class="flap"></div>

<div class="letter">
    <button class="close-btn" onclick="event.stopPropagation(); closeEnvelope()">✕</button>

    <h2>Für dich ❤️</h2>
    <p>
Liebe Miclaire,

Ich wünsche dir alles Liebe zum Valentinstag ❤️

Und zu diesem Tag wollte ich dir einfach nochmal sagen wie wichtig du mir bist. 
Ich freue mich jeden Tag so sehr auf unsere Telefonate, Nachrichten von dir und ganz besonders über schöne Bilder. 
Auch wenn ich sehr weit weg bin habe ich das Gefühl bei dir zu sein, und es macht mich sehr glücklich dadurch zumindest ein bisschen Teil deiner Erlebnisse zu sein.

Ich freue mich so sehr für dich dass du eine so tolle Zeit hast, und es würde mich sehr glücklich machen wenn wir auch irgendwann mal so eine Reise gemeinsam machen!

Ich vermisse dich unglaublich, und freue mich jeden Tag mehr auf den 20.03., nur noch 34 Tage dann hab ich dich endlich wieder bei mir.

Ich liebe dich sehr,

Dein Chassan
    </p>
</div>

    </div>
</div>

<script>

/* ---------- Countdown ---------- */

function updateCountdown() {
    const target = new Date("2026-03-20T19:05:00").getTime();
    const now = new Date().getTime();
    const diff = target - now;

    if (diff <= 0) {
        document.getElementById("countdown").innerHTML = "❤️ Heute ❤️";
        return;
    }

    const days = Math.floor(diff / (1000*60*60*24));
    const hours = Math.floor((diff % (1000*60*60*24))/(1000*60*60));
    const minutes = Math.floor((diff % (1000*60*60))/(1000*60));
    const seconds = Math.floor((diff % (1000*60))/1000);

    document.getElementById("countdown").innerHTML =
        `${days}d ${hours}h ${minutes}m ${seconds}s`;
}

setInterval(updateCountdown, 1000);
updateCountdown();

/* ---------- Envelope ---------- */

let slideshowStarted = false;

function openEnvelope() {

    const envelope = document.getElementById("envelope");
    const letter = document.querySelector(".letter");

    envelope.classList.add("opened");

    if (!slideshowStarted) {
        startSlideshow();
        startHearts();
        slideshowStarted = true;
    }

    setTimeout(() => {
        letter.classList.add("centered");
    }, 900);
}

function closeEnvelope() {

    const envelope = document.getElementById("envelope");
    const letter = document.querySelector(".letter");

    letter.classList.remove("centered");

    setTimeout(() => {
        envelope.classList.remove("opened");
    }, 300);
}

/* ---------- Slideshow ---------- */

function startSlideshow() {
    const images = document.querySelectorAll(".slideshow img");
    let index = 0;

    images[index].classList.add("active");

    setInterval(() => {
        images[index].classList.remove("active");
        index = (index + 1) % images.length;
        images[index].classList.add("active");
    }, 4000);
}

/* ---------- Heart Particles ---------- */

function startHearts() {

    const canvas = document.getElementById("heartCanvas");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let hearts = [];

    function createHeart() {
        hearts.push({
            x: Math.random() * canvas.width,
            y: canvas.height + 20,
            size: Math.random() * 12 + 8,
            speed: Math.random() * 1 + 0.5
        });
    }

    function drawHeart(x, y, size) {
        ctx.fillStyle = "rgba(255, 105, 140, 0.7)";
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.bezierCurveTo(x, y - size/2, x - size, y - size/2, x - size, y);
        ctx.bezierCurveTo(x - size, y + size/2, x, y + size, x, y + size);
        ctx.bezierCurveTo(x, y + size, x + size, y + size/2, x + size, y);
        ctx.bezierCurveTo(x + size, y - size/2, x, y - size/2, x, y);
        ctx.fill();
    }

    function animate() {
        ctx.clearRect(0,0,canvas.width,canvas.height);

        hearts.forEach((heart, i) => {
            heart.y -= heart.speed;
            drawHeart(heart.x, heart.y, heart.size);

            if (heart.y < -20) hearts.splice(i,1);
        });

        if (Math.random() < 0.08) createHeart();

        requestAnimationFrame(animate);
    }

    animate();
}

</script>

</body>
</html>
